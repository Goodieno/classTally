<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>í•™ê¸‰ ì ìˆ˜íŒ</title>
  <style>
    body { font-family: Arial, sans-serif; padding:20px; background:#f9fafb; }
    h1 { margin-bottom:20px; }
    ul { list-style:none; padding:0; }
    li { margin:8px 0; display:flex; align-items:center; gap:12px; }

    button.link-btn {
      text-decoration:none;
      color:#2563eb;
      font-size:18px;
      cursor:pointer;
      background:none;
      border:none;
      padding:0;
    }
    button.link-btn:hover { text-decoration:underline; }

    /* Leader display */
    .leader {
      display:flex;
      align-items:center;
      gap:6px;
      font-size:15px;
    }
    .leader .class {
      color:#16a34a;
      font-weight:bold;
    }
    .leader .score {
      color:#000;
      font-weight:bold;
    }

    /* Badge */
    .badge {
      display:inline-flex;
      align-items:center;
      gap:4px;
      padding:2px 6px;
      border-radius:999px;
      font-size:12px;
      font-weight:bold;
      background:#facc15; /* gold */
      color:#000;
      box-shadow:0 0 0 1px rgba(0,0,0,0.15);
    }

    .grid { display:grid; gap:12px; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); }
    .card { border:1px solid #ddd; border-radius:8px; padding:12px; background:#fff; }
    .row { display:flex; justify-content:space-between; margin-bottom:10px; }
    .controls { display:grid; grid-template-columns:1fr 1fr; gap:8px; }
    .controls input { grid-column:span 2; padding:6px; }
    .controls button { padding:8px; border:none; color:#fff; font-weight:bold; border-radius:6px; cursor:pointer; }
    .btn-add { background:#16a34a; }
    .btn-take { background:#dc2626; }
    .reasons { margin-top:10px; }
    .back { display:inline-block; margin-bottom:16px; }
    .grid-spacer { height:2in; }

    .admin-link {
      position: fixed;
      bottom: 10px;
      right: 10px;
      font-size: 12px;
      opacity: 0.6;
    }
    .admin-link button { color:#555; }
  </style>
</head>
<body>

<div id="home">
  <h1>í•™ë…„ ì„ íƒ</h1>
  <ul>
    <li>
      <button class="link-btn" data-grade="1">1í•™ë…„</button>
      <span class="leader" data-leader="1"></span>
    </li>
    <li>
      <button class="link-btn" data-grade="2">2í•™ë…„</button>
      <span class="leader" data-leader="2"></span>
    </li>
    <li>
      <button class="link-btn" data-grade="3">3í•™ë…„</button>
      <span class="leader" data-leader="3"></span>
    </li>
    <li>
      <button class="link-btn" data-grade="4">4í•™ë…„</button>
      <span class="leader" data-leader="4"></span>
    </li>
    <li>
      <button class="link-btn" data-grade="5">5í•™ë…„</button>
      <span class="leader" data-leader="5"></span>
    </li>
    <li>
      <button class="link-btn" data-grade="6">6í•™ë…„</button>
      <span class="leader" data-leader="6"></span>
    </li>
  </ul>
</div>

<div id="view"></div>

<div class="admin-link">
  <button class="link-btn" id="admin-link">âš™ï¸ Admin Panel</button>
</div>

<script>
  /* DATA */
  const grades = {};
  for (let g = 1; g <= 6; g++) {
    grades[`${g}í•™ë…„`] = {};
    for (let c = 1; c <= 8; c++) {
      grades[`${g}í•™ë…„`][`${g}í•™ë…„ ${c}ë°˜`] = { points: 0 };
    }
  }

  /* UPDATE HOME LEADERS + BADGE */
  function updateLeaders() {
    for (let g = 1; g <= 6; g++) {
      const leaderEl = document.querySelector(`[data-leader="${g}"]`);
      let best = null;

      Object.entries(grades[`${g}í•™ë…„`]).forEach(([name, data]) => {
        if (!best || data.points > best.points) {
          best = { name, points: data.points };
        }
      });

      if (best && best.points > 0) {
        leaderEl.innerHTML = `
          <span class="badge">ğŸ† LEADER</span>
          <span class="class">${best.name}</span>
          <span class="score">${best.points}</span>
        `;
      } else {
        leaderEl.innerHTML = "";
      }
    }
  }

  function renderGrade(grade) {
    document.getElementById("home").style.display = "none";
    const view = document.getElementById("view");

    view.innerHTML = `
      <button class="link-btn back" id="back-home">â† í•™ë…„ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
      <h2>${grade}í•™ë…„ í•™ê¸‰ ì ìˆ˜íŒ</h2>
      <div class="grid"></div>
    `;

    const grid = view.querySelector(".grid");

    Object.entries(grades[`${grade}í•™ë…„`]).forEach(([className, data]) => {
      const card = document.createElement("div");
      card.className = "card";

      card.innerHTML = `
        <div class="row">
          <div>${className}</div>
          <div>ì´ì : <span class="score">${data.points}</span></div>
        </div>
        <div class="controls">
          <button class="btn-add">+ ì ìˆ˜ ì¶”ê°€</button>
          <button class="btn-take">âˆ’ ì ìˆ˜ ì°¨ê°</button>
        </div>
      `;

      const scoreEl = card.querySelector(".score");

      card.querySelector(".btn-add").onclick = () => {
        data.points += 2;
        scoreEl.textContent = data.points;
        updateLeaders();
      };

      card.querySelector(".btn-take").onclick = () => {
        data.points -= 1;
        scoreEl.textContent = data.points;
        updateLeaders();
      };

      grid.appendChild(card);
    });

    view.appendChild(Object.assign(document.createElement("div"), { className: "grid-spacer" }));
  }

  function goHome() {
    document.getElementById("view").innerHTML = "";
    document.getElementById("home").style.display = "block";
    updateLeaders();
  }

  function checkAdminPassword() {
    if (prompt("ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸") === "delete") renderAdmin();
  }

  function renderAdmin() {
    document.getElementById("home").style.display = "none";
    const view = document.getElementById("view");
    view.innerHTML = `
      <button class="link-btn back" id="back-home">â† í•™ë…„ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
      <h2>ê´€ë¦¬ì ë©”ë‰´</h2>
      <ul>
        ${[1,2,3,4,5,6].map(g =>
          `<li><button class="link-btn" data-reset-grade="${g}">${g}í•™ë…„ ì´ˆê¸°í™”</button></li>`
        ).join("")}
      </ul>
    `;
  }

  function resetGrade(grade) {
    Object.values(grades[`${grade}í•™ë…„`]).forEach(c => c.points = 0);
    updateLeaders();
    alert("ì´ˆê¸°í™” ì™„ë£Œ");
  }

  /* EVENTS */
  document.addEventListener("click", e => {
    const gradeBtn = e.target.closest("[data-grade]");
    const resetBtn = e.target.closest("[data-reset-grade]");
    const backBtn  = e.target.closest("#back-home");
    const adminBtn = e.target.closest("#admin-link");

    if (gradeBtn) renderGrade(+gradeBtn.dataset.grade);
    if (backBtn) goHome();
    if (adminBtn) checkAdminPassword();
    if (resetBtn) resetGrade(+resetBtn.dataset.resetGrade);
  });

  updateLeaders();
</script>

</body>
</html>
